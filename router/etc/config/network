
config interface 'loopback'
	option device 'lo'
	option proto 'static'
	option ipaddr '127.0.0.1'
	option netmask '255.0.0.0'

config globals 'globals'
	option ula_prefix 'fded:b627:d971::/48'

config interface 'mgmt'
	option device 'eth-mgmt'
	option proto 'dhcp'

config interface 'wan'
	option device 'eth-wan'
	option proto 'dhcp'

config device
	option name 'eth-wan'
	option ipv6 '0'

config device
	option name 'eth-mgmt'
	option ipv6 '0'

config device
	option name 'eth-lan'
	option ipv6 '0'

config device
	option name 'vlan-guest'
	option type '8021q'
	option ifname 'eth-lan'
	option vid '11'
	option ipv6 '0'

config interface 'guest'
	option device 'vlan-guest'
	option proto 'static'
	option ip6assign '60'
	option ip6hint '20'
	list ipaddr '10.0.11.1/24'

config device
	option name 'vlan-iot'
	option type '8021q'
	option ifname 'eth-lan'
	option vid '13'
	option ipv6 '0'

config interface 'iot'
	option device 'vlan-iot'
	option proto 'static'
	option ip6assign '60'
	option ip6hint '20'
	list ipaddr '10.0.13.1/24'

config device
	option name 'vlan-main'
	option type '8021q'
	option ifname 'eth-lan'
	option vid '17'
	option ipv6 '0'

config interface 'main'
	option device 'vlan-main'
	option proto 'static'
	option ip6assign '60'
	option ip6hint '20'
	list ipaddr '10.0.17.1/24'

config interface 'vpn'
  option proto 'wireguard'
  option private_key '{{WIREGUARD_PRIVATE_KEY}}'
  list addresses '{{WIREGUARD_ADDRESS}}'
  option mtu '1412'

config wireguard_vpn
  option description 'ivpn-poland'
  option public_key '{{WIREGUARD_PUBLIC_KEY}}'
  option endpoint_host '{{WIREGUARD_SERVER}}'
  option endpoint_port '{{WIREGUARD_PORT}}'
  list allowed_ips '0.0.0.0/0'
  option route_allowed_ips '1'
  option persistent_keepalive '25'
